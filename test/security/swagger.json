{"openapi":"3.0.0","info":{"title":"Karjola","version":"1.0.0","description":"Karjola REST API"},"license":{"name":"GNU LGPLv3","url":"https://choosealicense.com/licenses/lgpl-3.0"},"contact":{"name":"Karjola Team","url":"https://github.com/sannyi","email":"ak3900@student.uni-lj.si"},"servers":[{"url":"http://localhost:3000/api"},{"url":"https://sp-lp24-karjola.herokuapp.com/api"}],"paths":{"/osebje":{"get":{"summary":"Pridobi seznam osebja","description":"Pridobi seznam osebja z podatki.","tags":["Osebje"],"responses":{"200":{"description":"Uspešno vrne seznam osebja.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Osebje"}}}},"404":{"description":"Seznama osebja ni mogoče najti."},"500":{"description":"Napaka na strežniku pri dostopu do podatkovne baze."}}},"post":{"summary":"Doda osebo","description":"Dodaj želeno osebo osebja.","security":[{"jwt":[]}],"tags":["Osebje"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Osebje"}}}},"responses":{"201":{"description":"Uspešno dodana oseba."},"401":{"description":"Ne najdem uporabnika oz. ni administrator."},"409":{"description":"Oseba že obstaja."},"500":{"description":"Napaka na strežniku pri dostopu do podatkovne baze."}}}},"/osebje/{idOsebja}":{"put":{"summary":"Posodobi želeno osebje","description":"Posodobi osebo z podatki.","tags":["Osebje"],"security":[{"jwt":[]}],"parameters":[{"in":"path","name":"idOseba","description":"Enolični identifikator osebja","schema":{"type":"string"},"required":true}],"responses":{"200":{"description":"Uspešno posodobi izbrano osebo.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Osebje"}}}},"401":{"description":"Ne najdem uporabnika oz. ni administrator."},"404":{"description":"Ne najdem osebe, idOseba je obvezen parameter."},"500":{"description":"Napaka na strežniku pri dostopu do podatkovne baze."}}}},"/osebje/{idOseba}":{"delete":{"summary":"Izbriši osebo","description":"Izbriši želeno osebo.","tags":["Osebje"],"security":[{"jwt":[]}],"parameters":[{"in":"path","name":"idOseba","description":"Enolični identifikator osebja","schema":{"type":"string"},"required":true}],"responses":{"204":{"description":"Uspešno vrne izbrano osebo."},"401":{"description":"Ne najdem uporabnika oz. ni administrator."},"404":{"description":"Ne najdem osebe, idOseba je obvezen parameter."},"500":{"description":"Napaka na strežniku pri dostopu do podatkovne baze."}}}},"/uporabniki":{"get":{"summary":"Seznam uporabnikov","description":"Pridobitev javnih podatkov uporabnikov iz podatkovne baze","tags":["Uporabnik"],"responses":{"200":{"descritption":"Uspešna zahteva s seznamom  najdenih uporabnikov v rezultatu.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UporabnikiBranjePovzetek"}}}}},"500":{"description":"Napaka na strežniku pri dostopu do podatkovne baze."}}}},"/uporabniki/{idUporabnika}":{"get":{"summary":"Podrobnost izbranega uporabnika","description":"Pridobitev **podrobnosti izbranega uporabnika** s podatki - identifikator, uporabniško ime, e-pošta, žeton za obnavljanje gesla, ali je administrator, naključna vrednost, naslov, pošta ter kraj.","tags":["Uporabnik"],"security":[{"jwt":[]}],"parameters":[{"in":"path","name":"idUporabnika","description":"enolični identifikator uporabnika","schema":{"type":"string"},"required":true,"example":"5ded18eb51386c3799833191"}],"responses":{"200":{"description":"Uspešna zahteva s podrobnostmi zahtevanega uporabnika v rezultatu.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UporabnikBranjePovzetek"}}}},"400":{"description":"Ni podanega parametra idUporabnika oziroma je ta napačnega formata."},"404":{"description":"Napaka zahteve, zahtevanega uporabnika ni mogoče najti.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Napaka"},"examples":{"ne najdem uporabnika":{"$ref":"#/components/examples/NeNajdemUporabnika"}}}}},"500":{"description":"Napaka na strežniku pri dostopu do podatkovne baze."}}},"delete":{"summary":"Brisanje izbranega uporabnika","description":"Brisanje **izbranega uporabnika**.","tags":["Uporabnik"],"security":[{"jwt":[]}],"parameters":[{"in":"path","name":"idUporabnika","description":"enolični identifikator uporabnika","schema":{"type":"string"},"required":true}],"responses":{"204":{"description":"Uspešno izbrisan uporabnik."},"401":{"description":"Napaka pri dostopu. Dostop ima le admin.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Napaka"},"examples":{"ni zetona":{"$ref":"#/components/examples/NiZetona"}}}}},"404":{"description":"Napaka zahteve, zahtevanega uporabnika ni mogoče najti.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Napaka"},"examples":{"ne najdem uporabnika":{"$ref":"#/components/examples/NeNajdemUporabnika"}}}}},"500":{"description":"Napaka pri brisanju uporabnika."}}}},"/uporabniki/prijava":{"post":{"summary":"Prijava obstoječega uporabnika","description":"Prijava **obstoječega uporabnika** s študentskim elektronskim naslovom in geslom.","tags":["Avtentikacija"],"requestBody":{"description":"Prijavni podatki","required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/UporabnikPrijava"}}}},"responses":{"200":{"description":"Uspešna prijava uporabnika z JWT žetonom v rezultatu.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AvtentikacijaOdgovor"},"example":{"žeton":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZGZhMjBlZDlhZGM0MzIyNmY0NjhkZjMiLCJlbGVrdHJvbnNraU5hc2xvdiI6ImRlamFuQGxhdmJpYy5uZXQiLCJpbWUiOiJEZWphbiBMYXZiacSNIiwiZGF0dW1Qb3Rla2EiOjE1Nzc5NTU2NjMsImlhdCI6MTU3NzM1MDg2M30.PgSpqjK8qD2dHUsXKwmqzhcBOJXUUwtIOHP3Xt6tbBAs"}}}},"400":{"description":"Napaka zahteve, pri prijavi sta študentski elektorniski naslov in geslo.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Napaka"},"example":{"sporočilo":"Vsaj en parameter (epošta ali geslo) manjka. Podana moreta biti oba parametra brez HTML značk!"}}}},"401":{"description":"Napaka pri prijavi uporabnika.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Napaka"},"examples":{"ePosta":{"value":{"sporočilo":"Uporabnik ni posredoval pravilno kombinacijo študentskega maila in gesla."},"summary":"Uporabnik ni posredoval pravilno kombinacijo študentskega maila in gesla."},"geslo":{"value":{"sporočilo":"Uporabnik ni posredoval pravilno kombinacijo študentskega maila in gesla."},"summary":"Uporabnik ni posredoval pravilno kombinacijo študentskega maila in gesla."}}}}},"500":{"description":"Napaka na strežniku pri preverjanju uporabnika."}}}},"/uporabniki/registriraj":{"post":{"summary":"Registracija novega uporabnika","description":"Registracija **novega uporabnika** s podatki o imenu, elektronskem naslovu in geslu.","tags":["Avtentikacija"],"requestBody":{"description":"Podatki za registracijo","required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/UporabnikRegistracija"}}}},"responses":{"201":{"description":"Uspešna registracija uporabnika z JWT žetonom v rezultatu.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AvtentikacijaOdgovor"},"example":{"žeton":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZGZhMjBlZDlhZGM0MzIyNmY0NjhkZjMiLCJlbGVrdHJvbnNraU5hc2xvdiI6ImRlamFuQGxhdmJpYy5uZXQiLCJpbWUiOiJEZWphbiBMYXZiacSNIiwiZGF0dW1Qb3Rla2EiOjE1Nzc5NTU2NjMsImlhdCI6MTU3NzM1MDg2M30.PgSpqjK8qD2dHUsXKwmqzhcBOJXUUwtIOHP3Xt6tbBAs"}}}},"400":{"description":"Napaka zahteve, pri registraciji so obvezni uporabniško ime, geslo ter potrditev gesla, študentski e-poštni naslov, naslov in kraj bivanja vključno s poštno številko.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Napaka"}},"example":{"sporočilo":"Zahtevani so vsi podatki."}}},"500":{"description":"Napaka na strežniku pri rprijavi uporabnika."}}}},"/uporabniki/{idUporabnika}/posodobiGeslo":{"put":{"summary":"Vnos novega uporabniškega gesla, če uporabnik to želi","description":"Vnos novega uporabniškega gesla, če prijavljen uporabnik to želi","tags":["Uporabnik"],"security":[{"jwt":[]}],"parameters":[{"in":"path","name":"idUporabnika","description":"enolični identifikator uporabnika","required":true,"schema":{"type":"string"}}],"requestBody":{"description":"Staro geslo, novo geslo in ponovitev novega gesla - Geslo za registracijo uporabnika. Vnesti je potrebno 8 znakov. Od teh mora biti najmanj ena velika in ena manjhna črka, geslo pa more vsebovati še minimalno eno številko in en poseben znak iz nabora","required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/UporabnikPosodobitevGesla"}}}},"responses":{"200":{"description":"Uspešna posodobitev gesla uporabnika","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Uspesno"},"example":{"sporočilo":"Geslo uspešno posodobljeno!"}}}},"400":{"description":"Napaka zahteve, staro geslo ne ustreza shranjenemu geslu v bazi in gesla ne ustrezajo kriterijem - Geslo mora ustrezati naslednjim kriterijem -> Geslo more vsebovati vsaj eno veliko in eno majhno črko. Geslo mora vsebovati vsaj eno številko in biti dolgo 8 znakov. Prav tako poskrbi, da bo v obe polji vpisano isto geslo!","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Napaka"},"example":{"sporočilo":"Zahtevan je študentski e-poštni naslov (FRI) UL. Geslo mora ustrezati naslednjim kriterijem -> Geslo more vsebovati vsaj eno veliko in eno majhno črko. Geslo mora vsebovati vsaj eno številko in biti dolgo 8 znakov. Prav tako poskrbi, da bo v obe polji vpisano isto geslo!"}}}},"401":{"description":"Ni prisotna avotirizacija","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NapakaAvtentikacije"}},"example":{"sporočilo":"Dodaj veljaven JWT žeton."}}},"404":{"description":"Uporabnik s tem enoličnim identifikatorjem ne obstaja","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Napaka"}},"example":{"sporočilo":"Če misliš, da bi moral biti registriran vprašaj osebje, če si res."}}},"500":{"description":"Napaka na strežniku pri obnovi gesla uporabnika."}}}},"/uporabniki/vnosZetona":{"put":{"summary":"Vnos žeton za uporabnika, ki je registriran, je pa pozabil geslo","description":"Uporabnik, ki je pozabil geslo vnese svoj mail in na svoj mail pridobi žeton, ga katere vnese kasneje pri obnovi gesla","tags":["Uporabnik"],"requestBody":{"description":"Novo geslo in ponovitev novega gesla - Geslo za registracijo uporabnika. Vnesti je potrebno 8 znakov. Od teh mora biti najmanj ena velika in ena manjhna črka, geslo pa more vsebovati še minimalno eno številko in en poseben znak iz nabora","required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/UporabnikVnosZetona"}}},"responses":{"200":{"description":"Uspešna obnovitev gesla uporabnika","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Uspesno"},"example":{"sporočilo":"Geslo uspešno obnovljeno!"}}}},"400":{"description":"Napaka zahteve, obvezen je **e-poštni naslov študenta (FRI) UL** ali geslo ne ustreza kriterijem - Geslo mora ustrezati naslednjim kriterijem -> Geslo more vsebovati vsaj eno veliko in eno majhno črko. Geslo mora vsebovati vsaj eno številko in biti dolgo 8 znakov. Prav tako poskrbi, da bo v obe polji vpisano isto geslo!","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Napaka"},"example":{"sporočilo":"Zahtevan je študentski e-poštni naslov (FRI) UL. Geslo mora ustrezati naslednjim kriterijem -> Geslo more vsebovati vsaj eno veliko in eno majhno črko. Geslo mora vsebovati vsaj eno številko in biti dolgo 8 znakov. Prav tako poskrbi, da bo v obe polji vpisano isto geslo!"}}}},"404":{"description":"Uporabnik s tem študentskim mailom ne obstaja.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Napaka"}},"example":{"sporočilo":"Če misliš, da bi moral biti registriran vprašaj osebje, če si res."}}},"500":{"description":"Napaka na strežniku pri obnovi gesla uporabnika."}}}}},"/uporabniki/obnovitevGesla":{"put":{"summary":"Vnos žeton za uporabnika, ki je registriran, je pa pozabil geslo","description":"Uporabnik, ki je pozabil geslo vnese svoj mail in na svoj mail pridobi žeton, ga katere vnese kasneje pri obnovi gesla","tags":["Uporabnik"],"requestBody":{"description":"Novo geslo in ponovitev novega gesla - Geslo za registracijo uporabnika. Vnesti je potrebno 8 znakov. Od teh mora biti najmanj ena velika in ena manjhna črka, geslo pa more vsebovati še minimalno eno številko in en poseben znak iz nabora","required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/UporabnikVnosZetona"}}},"responses":{"200":{"description":"Uspešna obnovitev gesla uporabnika","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Uspesno"},"example":{"sporočilo":"Geslo uspešno obnovljeno!"}}}},"400":{"description":"Napaka zahteve, obvezen je **e-poštni naslov študenta (FRI) UL** ali geslo ne ustreza kriterijem - Geslo mora ustrezati naslednjim kriterijem -> Geslo more vsebovati vsaj eno veliko in eno majhno črko. Geslo mora vsebovati vsaj eno številko in biti dolgo 8 znakov. Prav tako poskrbi, da bo v obe polji vpisano isto geslo!","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Napaka"},"example":{"sporočilo":"Zahtevan je študentski e-poštni naslov (FRI) UL. Geslo mora ustrezati naslednjim kriterijem -> Geslo more vsebovati vsaj eno veliko in eno majhno črko. Geslo mora vsebovati vsaj eno številko in biti dolgo 8 znakov. Prav tako poskrbi, da bo v obe polji vpisano isto geslo!"}}}},"404":{"description":"Uporabnik s tem študentskim mailom ne obstaja.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Napaka"}},"example":{"sporočilo":"Če misliš, da bi moral biti registriran vprašaj osebje, če si res."}}},"500":{"description":"Napaka na strežniku pri obnovi gesla uporabnika."}}}}},"/predmeti":{"get":{"summary":"Seznam predmetov","description":"Pridobitev predmetov iz podatkovne baze","tags":["Predmet"],"responses":{"200":{"description":"Uspešna zahteva s seznamom  najdenih predmetov v rezultatu.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Predmet"}}}}},"404":{"description":"Napaka pri pridobivanju predmetov."}}},"post":{"summary":"Dodajanje novega predmeta","description":"Dodajanje **novega predmeta** z imenom, opisom, letnikom, semestrom, seznamom profesorjev in asistentov.","tags":["Predmet"],"security":[{"jwt":[]}],"requestBody":{"description":"Podatki o predmetu","required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Predmet"}}}},"responses":{"201":{"description":"Uspešno dodan predmet, ki se vrne v rezultatu.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Predmet"}}}},"400":{"description":"Napaka pri shranjevanju predmeta."},"500":{"description":"Napaka na strežniku."}}}},"/predmeti/{predmetId}":{"get":{"summary":"Podrobnosti izbranega predmeta","description":"Pridobitev izbranega predmeta iz podatkovne baze","tags":["Predmet"],"parameters":[{"in":"path","name":"predmetId","description":"enolični identifikator predmeta","schema":{"type":"string"},"required":true,"example":"5fead389f5f0ec2aece95d9c"}],"responses":{"200":{"description":"Uspešna zahteva s podrobnostmi izbranega predmeta v rezultatu.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Predmet"}}}}},"404":{"description":"Ta predmet ne obstaja."}}}},"/predmeti/{idPredmet}":{"put":{"summary":"Posodabljanje izbranega predmeta","description":"Posodobitev **podrobnosti izbranega predmeta** z imenom, opisom, letnikom, semestrom, seznamom profesorjev in asistentov.","tags":["Predmet"],"security":[{"jwt":[]}],"requestBody":{"description":"Podatki o predmetu","required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Predmet"}}}},"parameters":[{"in":"path","name":"idPredmet","description":"enolični identifikator predmeta","schema":{"type":"string"},"required":true}],"responses":{"200":{"description":"Uspešno posodobljen predmet, ki se vrne v rezultatu.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Predmet"}}}},"401":{"description":"Napaka pri dostopu.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Napaka"},"examples":{"ni zetona":{"$ref":"#/components/examples/NiZetona"}}}}},"404":{"description":"Napaka zahteve pri ažuriranju predmeta"},"500":{"description":"Napaka pri dostopu do podatkovne baze."}}},"delete":{"summary":"Brisanje izbranega predmeta","description":"Brisanje **izbranega predmeta**.","tags":["Predmet"],"security":[{"jwt":[]}],"parameters":[{"in":"path","name":"idPredmet","description":"enolični identifikator predmeta","schema":{"type":"string"},"required":true}],"responses":{"204":{"description":"Uspešno izbrisan predmet."},"401":{"description":"Napaka pri dostopu.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Napaka"},"examples":{"ni zetona":{"$ref":"#/components/examples/NiZetona"}}}}},"404":{"description":"Napaka zahteve, zahtevanega predmeta ni mogoče najti.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Napaka"},"examples":{"ne najdem predmeta":{"$ref":"#/components/examples/NeNajdemPredmeta"}}}}},"500":{"description":"Napaka pri brisanju predmeta."}}}},"/predmeti/{idPredmet}/gradivo":{"post":{"summary":"Dodajanje gradiva izbranemu predmetu","description":"Dodajanje **gradiva** s podatki o predmetu, imenu, številom prijav, povezavo, vidnostjo **izbranemu predmetu** s podanim enoličnim identifikatorjem.","tags":["Predmet"],"security":[{"jwt":[]}],"parameters":[{"in":"path","name":"idPredmet","description":"enolični identifikator predmeta","schema":{"type":"string"},"required":true,"example":"5ded18eb51386c3799833191"}],"requestBody":{"description":"Podatki o gradivu","required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Gradivo"}}}},"responses":{"201":{"description":"Uspešno dodano gradivo, ki se vrne v rezultatu.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Gradivo"}}}},"400":{"description":"Napaka pri shranjevanju gradiva."},"401":{"description":"Napaka pri dostopu.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Napaka"},"examples":{"ni zetona":{"$ref":"#/components/examples/NiZetona"}}}}},"404":{"description":"Napaka zahteve, zahtevanega predmeta ni mogoče najti.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Napaka"},"examples":{"ne najdem gradiva":{"$ref":"#/components/examples/NeNajdemGradiva"}}}}}}}},"/db":{"post":{"summary":"Vnos začetnih podatkov v bazo","description":"Vnos začetnih podatkov v bazo","requestBody":{"required":false},"tags":["VnosBaze"],"responses":{"201":{"description":"Uspešna zahteva s seznamom  najdenih uporabnikov v rezultatu."},"404":{"description":"Podatki, ki bi morali biti uvoženi v bazo ne obstajajo."},"500":{"description":"Napaka na strežniku pri dostopu do podatkovne baze."}}},"delete":{"security":[{"jwt":[]}],"summary":"Vnos začetnih podatkov v bazo","description":"Vnos začetnih podatkov v bazo","requestBody":{"required":false},"tags":["VnosBaze"],"responses":{"204":{"description":"Uspešna zahteva s seznamom  najdenih uporabnikov v rezultatu."},"401":{"description":"Napaka pri dostopu. Dostop ima le admininistrator.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Napaka"},"examples":{"ni zetona":{"$ref":"#/components/examples/NiZetona"}}}}},"404":{"description":"Uporabnik, ki izvaja opreracijo, v bazi ne obstaja","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Napaka"},"examples":{"ne najdem uporabnika":{"$ref":"#/components/examples/NeNajdemUporabnika"}}}}},"500":{"description":"Napaka na strežniku pri dostopu do podatkovne baze."}}}},"/moduli":{"get":{"summary":"Seznam modulov","description":"Pridobitev javnih podatkov modulov iz podatkovne baze","tags":["Modul"],"responses":{"200":{"descritption":"Uspešna zahteva s seznamom  najdenih modulov v rezultatu.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ModulPovzetek"}}}}},"404":{"descritption":"Ni modulov v podatkovni bazi","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/NapakaModula"}}}}},"500":{"description":"Napaka na strežniku pri dostopu do podatkovne baze."}}},"post":{"summary":"Kreiranje modula","description":"Kreiranje modula in vnos v podatkovno bazo","tags":["Modul"],"security":[{"jwt":[]}],"requestBody":{"description":"Podatki za kreiranje modula","required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/ModulPovzetek"}}}},"responses":{"201":{"descritption":"Uspešna zahteva pri kreiranju modula","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ModulPovzetek"}}}}},"400":{"descritption":"Ni podanega imena za ime modula","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NapakaModulaNiImena"},"example":{"sporočilo":"Ni podano ime modula ali je napačnega formata."}}}},"401":{"description":"Ni prisotna avtorizacija.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NapakaAvtentikacije"},"example":{"sporočilo":"Dodaj veljaven JWT žeton."}}}},"500":{"description":"Napaka na strežniku pri dostopu do podatkovne baze."}}}},"/moduli/{idModula}":{"put":{"summary":"Posodabljanje modula","description":"Posodabljanje modula v podatkovni bazi","tags":["Modul"],"security":[{"jwt":[]}],"parameters":[{"in":"path","name":"idModula","description":"enolični identifikator modula","required":true,"schema":{"type":"string"}}],"requestBody":{"description":"Podatki za posodabljanje modula","required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/ModulPovzetek"}}}},"responses":{"200":{"descritption":"Uspešna zahteva pri kreiranju modula","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ModulPovzetek"}}}}},"400":{"descritption":"Ni podanega imena za ime ali","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NapakaModulaNiImena"},"example":{"sporočilo":"Ni podano ime modula ali je napačnega formata."}}}},"401":{"description":"Ni prisotna avtorizacija.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NapakaAvtentikacije"},"example":{"sporočilo":"Dodaj veljaven JWT žeton."}}}},"404":{"descritption":"Modula z posanim enoličnim identifikatorjem ne najdem","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/NapakaModula"}}}}},"500":{"description":"Napaka na strežniku pri dostopu do podatkovne baze."}}},"delete":{"summary":"Brisanje modula","description":"Brisanje modula v podatkovni bazi","tags":["Modul"],"security":[{"jwt":[]}],"parameters":[{"in":"path","name":"idModula","description":"enolični identifikator modula","required":true,"schema":{"type":"string"}}],"responses":{"204":{"descritption":"Uspešna zahteva pri brisanje modula"},"400":{"descritption":"Ni podanega imena za ime ali","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NapakaModulaNiImena"},"example":{"sporočilo":"Ni podano ime modula ali je napačnega formata."}}}},"401":{"description":"Ni prisotna avtorizacija.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NapakaAvtentikacije"},"example":{"sporočilo":"Dodaj veljaven JWT žeton."}}}},"404":{"descritption":"Modula z posanim enoličnim identifikatorjem ne najdem","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/NapakaModula"}}}}},"500":{"description":"Napaka na strežniku pri dostopu do podatkovne baze."}}}}},"components":{"securitySchemes":{"jwt":{"type":"http","scheme":"bearer","in":"header","bearerFormat":"JWT"}},"schemas":{"Osebje":{"type":"object","properties":{"akademskiNaziv":{"type":"string","example":"docent"},"izobrazba":{"type":"string","example":null},"ime_priimek":{"type":"string","example":"Dejan Lavbič"},"e_mail":{"type":"string","example":null},"opis":{"type":"string","example":"Profesor pri Spletnem programiranju in Osnovah informacijskih sistemov"}},"required":["ime_priimek","opis"]},"Modul":{"type":"object","properties":{"ime":{"type":"string","example":"Umetna inteligenca"}},"required":["ime"]},"Komentar":{"type":"object","properties":{"gradivo":{"type":"string","format":"uuid","$ref":"#/components/schemas/Gradivo"},"predmet":{"type":"string","format":"uuid","$ref":"#/components/schemas/Predmet"},"avtor":{"type":"string","format":"uuid","$ref":"#/components/schemas/Uporabnik"},"datum":{"type":"string","format":"date","example":"2021-01-03"},"anonimnost":{"type":"boolean","example":true},"stPrijav":{"type":"number","example":10},"besedilo":{"type":"string","example":"To je besedilo komentarja."}},"required":["gradivo","predmet","avtor","anonimnost","besedilo"]},"Gradivo":{"type":"object","properties":{"predmet":{"type":"string","format":"uuid","$ref":"#/components/schemas/Predmet"},"avtor":{"type":"string","format":"uuid"},"vidno":{"type":"boolean","example":true},"stPrijav":{"type":"number","minimum":0},"isFile":{"type":"boolean"},"datoteka":{"type":"object","properties":{"ime":{"type":"string"},"data":{"type":"string"},"contentType":{"type":"string"}}},"povezava":{"type":"string"},"komentarji":{"type":"array","items":{"type":"string","$ref":"#/components/schemas/Komentar"}}},"required":["predmet","vidno","isFile"]},"Predmet":{"type":"object","properties":{"ime":{"type":"string","example":"Spletno programiranje"},"opis":{"type":"string","example":"To je opis predmeta."},"letnik":{"type":"number","example":1},"semester":{"type":"number","example":1},"profesorji":{"type":"array","items":{"type":"string","format":"uuid","$ref":"#/components/schemas/Osebje"}},"asistenti":{"type":"array","items":{"type":"string","$ref":"#/components/schemas/Osebje"}},"moduli":{"type":"array","items":{"type":"string","$ref":"#/components/schemas/Modul"}},"vrstaIzbirnega":{"type":"number"},"gradiva":{"type":"array","items":{"type":"string","format":"uuid","$ref":"#/components/schemas/Gradivo"}}}},"UporabnikBranjePovzetek":{"type":"object","properties":{"_id":{"type":"string","format":"uuid","description":"Enolični identifikator uporabnika","example":"5ded18eb51386c3799833191"},"uporabniskoIme":{"type":"string","description":"Uporabniško ime uporabnika","example":"SomeRandomUs3rn4me"},"ePosta":{"type":"string","description":"Elektronski naslov uporabnika (študenta UL) za prijavo","example":"ak3900@student.uni-lj.si"},"zetonZaObnavljanjeGesla":{"type":"string","description":"Žeton za obnavljanje gesla (šifriran z naključno vrednostjo)","example":"d998873f5625a49bd220dc391e1726317ef754ffb92524c8757617db2b965dc3e5f8ab90938ea12e89dc9c045474086a379cacca079f1051126c4208389c1e2e"},"jeAdmin":{"type":"boolean","description":"Zastavica ali je uporabnik administrator ali ne","example":false},"nakljucnaVrednost":{"type":"string","description":"Naključna vrednost s pomočjo katere se šifrira geslo in žeton za obnovitev gesla","example":"646c7a341a8e35f4bfa7e1fbc3b3b270"},"zgoscenaVrednost":{"type":"string","description":"Naključna vrednost s pomočjo katere se šifrira geslo in žeton za obnovitev gesla","example":"f4480dea97af653c7004b2d6a469878a2738ec1a3e146c30d150397dd27990a6ae592dc440bf7c2adc60373183229e2f3bdabd2de9b233983e7cb9b438462b50"},"naslov":{"type":"string","description":"Ulica in hišna številka uporabnika","example":"Gornja ulica 12"},"posta":{"type":"integer","description":"Številka pošte od občine v katerem na bi uporabnik živel","example":9220},"kraj":{"type":"string","description":"Kraj (občina uporabnika)","example":"Lendava/Lendva"}}},"UporabnikiBranjePovzetek":{"type":"object","properties":{"_id":{"type":"string","format":"uuid","description":"Enolični identifikator uporabnika","example":"5ded18eb51386c3799833191"},"uporabniskoIme":{"type":"string","description":"Uporabniško ime uporabnika","example":"SomeRandomUs3rn4me"},"ePosta":{"type":"string","description":"Elektronski naslov uporabnika (študenta UL) za prijavo","example":"ak3900@student.uni-lj.si"},"jeAdmin":{"type":"boolean","description":"Zastavica ali je uporabnik administrator ali ne","example":false},"posta":{"type":"integer","description":"Številka pošte od občine v katerem na bi uporabnik živel","example":9220},"kraj":{"type":"string","description":"Kraj (občina uporabnika)","example":"Lendava/Lendva"}}},"UporabnikPrijava":{"type":"object","description":"Podatki za prijavo uporabnika v aplikacijo Karjola","properties":{"ePosta":{"type":"string","description":"Elektronski naslov uporabnika (študenta UL) za prijavo","example":"ea3900@student.uni-lj.si"},"geslo":{"type":"string","format":"password","description":"Geslo za prijavo uporabnika","example":"eXpress12#S2M"}},"required":"-ePosta -geslo"},"UporabnikRegistracija":{"type":"object","description":"Podatki uporabnika za registracijo","properties":{"uporabniskoIme":{"type":"string","description":"Uporabniško ime uporabnika","writeOnly":true,"example":"S0m3RandomU5N#mE"},"ePosta":{"type":"string","description":"Elektronski naslov uporabnika (študenta UL) za prijavo, ki mora biti unikaten","example":"ea3900@student.uni-lj.si"},"novoGeslo":{"type":"string","format":"password","description":"Geslo za registracijo uporabnika. Vnesti je potrebno 8 znakov. Od teh mora biti najmanj ena velika in ena manjhna črka, geslo pa more vsebovati še minimalno eno številko in en poseben znak iz nabora","example":"eXpress12#S2M"},"ponoviNovoGeslo":{"type":"string","format":"password","description":"Geslo more biti (sestavljeno) enako kot zgornje geslo.","example":"eXpress12#S2M"},"naslov":{"type":"string","description":"Domači naslov uporabnika","example":"Gornja Ulica 12"},"posta":{"type":"integer","description":"Poštna številka v katerem uporabniki živi","minimum":1000,"maximum":9600,"example":9220},"kraj":{"type":"string","description":"Občina na katere poštna številka je to","example":"Lendava"}},"required":"-uporabniskoIme -ePosta -novoGeslo -ponoviNovoGeslo -naslov -posta -kraj"},"UporabnikPosodobitevGesla":{"type":"object","description":"Podatki za obnovo gesla uporabnika","properties":{"trenutnoGeslo":{"type":"string","format":"password","description":"Trenutno geslo","example":"eXpress12#S2M"},"novoGeslo":{"type":"string","format":"password","description":"Geslo za prijavo uporabnika. Vnesti je potrebno 8 znakov. Od teh mora biti najmanj ena velika in ena manjhna črka, geslo pa more vsebovati še minimalno eno številko in en poseben znak iz nabora","example":"eXpress12#S2M"},"potrdiNovoGeslo":{"type":"string","format":"password","description":"Geslo more biti (sestavljeno) enako kot zgornje geslo.","example":"eXpress12#S2M"}},"required":"-trenutnoGeslo -novoGeslo -potrdiNovoGeslo"},"UporabnikVnosZetona":{"type":"object","description":"Vnos študentske e-pošte za obnovo žetona","required":"-ePosta","properties":{"ePosta":{"type":"string","description":"Elektronski naslov uporabnika (študenta UL) za prijavo","example":"ea3900@student.uni-lj.si"}}},"UporabnikObnovaGesla":{"type":"object","description":"Podatki za obnovo gesla uporabnika","required":"-ePosta -zetonZaObnavljanjeGesla -novoGeslo -ponoviNovoGeslo","properties":{"zetonZaObnavljanjeGesla":{"type":"string","description":"Žeton, ki je prispel na uporabnikov mail, če je uporabnik v bazi","example":"ZG6qvC7bfUmUP6BgdNfjRcUoBco6R0m6X86qaJ56"},"ePosta":{"type":"string","description":"Študentski e-poštni naslov","example":"ak3900@student.uni-lj.si"},"novoGeslo":{"type":"string","format":"password","description":"Geslo za uporabnika. Vnesti je potrebno 8 znakov. Od teh mora biti najmanj ena velika in ena manjhna črka, geslo pa more vsebovati še minimalno eno številko in en poseben znak iz nabora","example":"eXpress12#S2M"},"ponoviNovoGeslo":{"type":"string","format":"password","description":"Geslo more biti (sestavljeno) enako kot zgornje geslo.","example":"eXpress12#S2M"}}},"AvtentikacijaOdgovor":{"type":"object","description":"Rezultat uspešne avtentikacije uporabnika","properties":{"zeton":"string","description":"JWT žeton (primer ne kaže veljavnega žetona)","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZGZhMjBlZDlhZGM0MzIyNmY0NjhkZjMiLCJlbGVrdHJvbnNraU5hc2xvdXQiLCJpbWUiOiJEZWphbiBMYXZiacSNIiwiZGF0dW1Qb3Rla2EiOjE1Nzc5NTU2NjMsImlhdCI6MTU3NzM1MDg2M30.PgSpqjK8qD2dHUsXKwmqzhcBOJXUUwtIOHP3Xt6tbBA"},"required":"-zeton"},"Napaka":{"type":"object","description":"Podrobnosti napake","properties":{"sporočilo":{"type":"string"}},"required":["sporočilo"],"example":{"sporočilo":"Ne najdem uporabnika"}},"NapakaAvtentikacije":{"type":"object","description":"Podrobnosti napake","required":["sporočilo"],"properties":{"sporočilo":{"type":"string"}},"example":{"sporočilo":"JWT žeton je obvezen."}},"Uspesno":{"type":"object","description":"Podrobnosti uspeha","required":["sporočilo"],"properties":{"sporočilo":{"type":"string"}},"example":{"sporočilo":"Parametri so obvezni"}},"NapakaModula":{"type":"object","description":"Podrobnosti napake","properties":{"sporočilo":{"type":"string"}},"required":["sporočilo"],"example":{"sporočilo":"Napaka pri pridobivanju modulov."},"NapakaModulaNiImena":{"type":"object","description":"Podrobnosti napake","properties":{"sporočilo":{"type":"string"}},"required":["sporočilo"],"example":{"sporočilo":"cd"}}},"ModulPovzetek":{"type":"object","properties":{"_id":{"type":"string","format":"uuid","description":"Enolični identifikator modula","example":"5ded18eb51386c3799833191"},"ime":{"type":"string","description":"Ime samega modula","example":"Razvoj programske opreme"}}}},"examples":{"NeNajdemPredmeta":{"summary":"ne najdem predmeta","value":{"sporočilo":"Ne najdem predmeta."}},"NeNajdemGradiva":{"summary":"ne najdem gradiva","value":{"sporočilo":"Ne najdem gradiva."}},"NiZetona":{"summary":"ni JWT žetona","value":{"sporočilo":"UnauthorizedError: No authorization token was found."}},"VsiPodatki":{"summary":"zahtevani so vsi podatki","value":{"sporočilo":"Zahtevani so vsi podatki."}},"EMailNiUstrezen":{"summary":"elektronski naslov ni ustrezen","value":{"sporočilo":"Elektronski naslov ni ustrezen!"}},"NeNajdemUporabnika":{"summary":"uporabnika ne najdem v bazi","value":{"sporočilo":"Uporabnika ne najdem v bazi"}}}},"tags":[{"name":"Osebje","description":"Urejanje osebja"},{"name":"Uporabnik","description":"Prikaz uporabnikov"},{"name":"Avtentikacija","description":"Avtentikacija"},{"name":"Predmet","description":"Obvladovanje predmetov"},{"name":"VnosBaze","description":"Vnašanje podatkov v podatkovno bazo."},{"name":"Modul","description":"Operacije z moduli"}]}